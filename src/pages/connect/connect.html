<!--
  Generated template for the Connect page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <div *ngIf="OSB.isConnected()">
      <ion-title>Main actions</ion-title>
    </div>
    <div *ngIf="!OSB.isConnected()">
      <ion-title>Connect</ion-title>
    </div>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <div *ngIf="OSB.isConnected()">
    <div *ngIf="OSB.getStatus().running">
      <p><i>< There is a running presentation...<br>Use this button to control or stop it.</i></p>
      <ion-fab left top>
        <button ion-fab color="light"><ion-icon name="arrow-down"></ion-icon></button>
        <ion-fab-list side="bottom">
          <button ion-fab (click)="link()"><ion-icon name="ios-link"></ion-icon></button>
          <button ion-fab (click)="stop()"><ion-icon name="ios-hand-outline"  color="danger" ></ion-icon></button>
        </ion-fab-list>
      </ion-fab>




    </div>

    <div style="margin: 0 auto; width:200px">
      <img src="assets/img/connected.png"/>
    </div>
    <h2>Ready to start !</h2>
    <p>
     Your <b>OpenSongRemote</b> mobile app is connected to your OpenSong server (Ip:<i>{{host}}:{{port}}</i>).
    </p>
    <div padding>
      <button ion-button color="danger" block (click)="disconnect()" outline>Log out</button>
    </div>
  </div>

  <div *ngIf="!OSB.isConnected()">
    <div style="margin: 1rem auto; width:150px;">
      <img src="assets/img/connecting.png" style="padding-top: 0rem;"/>
    </div>
    <p>Connect your <b>OpenSongRemote</b> mobile app to your OpenSong server.</p>

    <ion-item>
      <ion-label floating>Host/IP</ion-label>
      <ion-input type="text" [(ngModel)]="host"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label floating>Port</ion-label>
      <ion-input type="text" [(ngModel)]="port"></ion-input>
    </ion-item>

    <ion-item>
      <ion-label floating>Password</ion-label>
      <ion-input type="password" [(ngModel)]="pass"></ion-input>
    </ion-item>

    <div padding>
      <button ion-button color="primary" block (click)="connect()" [disabled]="!canConnect()">Sign In</button>
    </div>
  </div>

</ion-content>
